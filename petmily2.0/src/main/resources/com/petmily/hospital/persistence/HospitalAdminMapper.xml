<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.petmily.hospital.persistence.HospitalAdminMapper">
	<select id="getOper" resultType="com.petmily.hospital.domain.HospitalOperationVO">
		select * from hospital_operation_tb where HSPT_ID = #{hsptId}
	</select>

	<select id="getReservation" resultType="com.petmily.reservation.domain.ReservationVO">
		select * from reservation_tb where RESERVATION_HOSPITAL_ID = #{hsptId}
	</select>

	<update id="statusUpdate">
		update reservation_tb set reservation_status = '예약완료' where reservation_no = #{reservationNo}
	</update>

	<insert id="insertMedRecords" parameterType="com.petmily.hospital.domain.HospitalMedRecordsVO">
		insert into HOSPT_MED_RECORDS_TB values(HOSPT_MED_RECORDS_NO_SEQ.nextval, #{petNo}, #{memId}, SYSDATE, #{hosptTmtSort}, #{hosptTmtContents}, #{reservationNo}, #{hsptId})
	</insert>

	<update id="statusMedUpdate">
		update reservation_tb set reservation_status = '진료완료' where reservation_no = #{reservationNo}
	</update>
</mapper>